Vue.filter("formatNum",function(n){return!n&&n!==0||isNaN(n)||n>9007199254740991?"-":numeral(n).format("0,0")});Vue.component("input-num",{template:'<input type="text" ref="input" v-model="model" v-on:focus="selectAll" />',props:["value","data-decimal"],computed:{model:{get:function(){if(this.value||this.value===0||this.value==="0"){var n=numeral(this.value).format("0,0.[000]");return this.dataDecimal&&(n=n+(this.value.toString().endsWith(".")?".":""),n=n+(this.value.toString().endsWith(".0")?".0":""),n=n+(this.value.toString().endsWith(".00")?".00":""),n=n+(this.value.toString().endsWith(".000")?".00":"")),n}},set:function(n){var i,u,t,r;n.endsWith("/")&&(n=n.slice(0,n.indexOf("/"))+".");n.endsWith("۰")&&(n=n.slice(0,n.indexOf("۰"))+"0");n.endsWith("۱")&&(n=n.slice(0,n.indexOf("۱"))+"1");n.endsWith("۲")&&(n=n.slice(0,n.indexOf("۲"))+"2");n.endsWith("۳")&&(n=n.slice(0,n.indexOf("۳"))+"3");n.endsWith("۴")&&(n=n.slice(0,n.indexOf("۴"))+"4");n.endsWith("۵")&&(n=n.slice(0,n.indexOf("۵"))+"5");n.endsWith("۶")&&(n=n.slice(0,n.indexOf("۶"))+"6");n.endsWith("۷")&&(n=n.slice(0,n.indexOf("۷"))+"7");n.endsWith("۸")&&(n=n.slice(0,n.indexOf("۸"))+"8");n.endsWith("۹")&&(n=n.slice(0,n.indexOf("۹"))+"9");i=numeral(n).value();(isNaN(i)||i>9007199254740991)&&(i=this.value);u="";(i||i===0)&&(t=i.toString(),this.dataDecimal&&t.indexOf(".")<0&&(t=t+(n.endsWith(".")?".":""),t=t+(n.endsWith(".0")?".0":""),t=t+(n.endsWith(".00")?".00":""),t=t+(n.endsWith(".000")?".00":"")),r=t.split("."),r[0]=numeral(r[0]).format("0,0"),r.length>=2&&(t=t.slice(0,t.indexOf(".")+4),r[1]=r[1].toString().slice(0,3),r.length===3&&r.splice(2,1)),u=r.join("."),i=t);this.$refs.input.value=u;this.$emit("input",i)}}},methods:{selectAll:function(n){setTimeout(function(){n.target.select()},0)}}});